<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Regular Expression Integer Inequalities</title><link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" integrity="sha256-9kPW/n5nn53j4WMRYAxe9c1rCY96Oogo/MKSVdKzPmI=" crossorigin><style>@media only screen and (max-width:720px){body>header{padding-bottom:.5rem}section:first-child{margin-top:1rem}body>footer{margin-top:1rem;padding-top:1rem}}.text-danger{color:#dc3545}.text-success{color:#198754}.text-secondary{color:#6c757d}.text-info-emphasis{color:#055160}@media (prefers-color-scheme:dark){.text-info-emphasis{color:#6edff6}}.d-none{display:none}</style><script>!function(){let e=[...Array(7).keys()].map(e=>`[${e+1}-9]`).concat("[89]","9","(?!)"),t=["(?!)","0","[01]"].concat([...Array(7).keys()].map(e=>`[0-${e+2}]`)),n=["(?!)","(?!)","1","[12]"].concat([...Array(6).keys()].map(e=>`[1-${e+3}]`)),r=new Set(["-0","0","-[1-9][0-9]*"]),a=new Set(["-0","0","[1-9][0-9]*"]),s=new Set(["0","[1-9][0-9]*"]),d="(?<![0-9])",i="(?<![-0-9])",c="(?![0-9])",l=new Set([...Array(8).keys()].map(e=>`[0-${e+2}]`).concat("[01]","[1-9]?[0-9]")),o=new Set([...Array(8).keys()].map(e=>`-[0-${e+2}]`).concat("-[01]","-[1-9]?[0-9]"));window.addEventListener("DOMContentLoaded",()=>{let g=document.getElementById("operator"),h=document.getElementById("integer"),m=document.getElementById("allint"),u=document.getElementById("anchor"),$=document.getElementById("errormsg"),E=document.getElementById("regexp"),p=document.getElementById("exactmatch"),y=document.getElementById("exactresult"),f=document.getElementById("extract_inp"),x=document.getElementById("extract_out"),L=document.getElementById("btn_copy"),v="",b=()=>{try{v=function(g,h,m=!1,u=!0){let $;if(!Number.isSafeInteger(h))throw TypeError("invalid number");if(!m&&h<0)throw RangeError("cant pass an integer <0 unless allint is set");if("=="===g)return u?0==h&&m?`(?:${i}0|-0)${c}`:h<0?`${h}${c}`:m?`${i}${h}${c}`:`${d}${h}${c}`:0==h&&m?"-?0":`${h}`;if("!="===g)return u?m?"(?!"+(0==h?"-?0":`${h}`)+`${c})(?:${i}(?:0|[1-9][0-9]*)|-0|-[1-9][0-9]*)${c}`:`(?!${h}${c})${d}(?:0|[1-9][0-9]*)${c}`:0==h?(m?"-?":"")+"[1-9][0-9]*":`(?!${h})`+(m?"-?":"")+"(?:0|[1-9][0-9]*)";let E=e=>{if(!e.size)throw Error("assertion failed");Array.from(e).some(e=>l.has(e))&&e.delete("0"),Array.from(e).some(e=>o.has(e))&&e.delete("-0");let t=[],n=[];e.forEach(e=>(e.startsWith("-")?n:t).push(e)),t.sort(),n.sort();let r=[];if(u?t.length&&r.push((m?i:d)+(t.length>1?"(?:"+t.join("|")+")":t[0])):r.push(...t),n.length<6?r.push(...n):r.push("-(?:"+n.map(e=>e.substring(1)).join("|")+")"),!r.length)throw Error("assertion failed");return(r.length>1?"(?:"+r.join("|")+")":r[0])+(u?c:"")};if(">"===g||">="===g)">="===g&&h--,$=!0;else if("<"===g||"<="===g)"<="===g&&h++,$=!1;else throw RangeError("unknown operator");if(0==h&&!$&&!m)return"(?!)";if(-1==h&&$)return E(m?a:s);if(0==h)return E(new Set([$?"[1-9][0-9]*":"-[1-9][0-9]*"]));let p=m&&h<0;p&&($=!$);let y=(p?-h:h).toString(),f=p?"-":"";if(1>parseInt(y))throw Error("assertion failed");let x=new Set;return m&&!$&&(p?s:r).forEach(e=>x.add(e)),$?1==y.length?x.add(`${f}[1-9][0-9]+`):x.add(`${f}[1-9][0-9]{${y.length},}`):y.length>3?(x.add(`${f}0`),x.add(`${f}[1-9][0-9]{0,${y.length-2}}`)):y.length>2?x.add(`${f}[1-9]?[0-9]`):y.length>1&&x.add(`${f}[0-9]`),[...y].forEach((r,a)=>{let s=y.length-a-1,d=s?1==s?"[0-9]":`[0-9]{${s}}`:"",i=parseInt(r),c=$?e[i]:1==y.length||a?t[i]:n[i];"(?!)"!==c&&x.add(f+y.substring(0,a)+c+d)}),E(x)}(g.value,h.valueAsNumber,m.checked,u.checked)}catch(e){$.innerText=" "+e,$.classList.remove("d-none");return}$.innerText="",$.classList.add("d-none"),E.innerText=v,L.classList.add("bi-clipboard"),L.classList.remove("bi-clipboard-check-fill"),RegExp("^"+v+"$").test(p.value)?(p.classList.add("text-success"),p.classList.remove("text-danger"),y.classList.add("bi-check-lg","text-success"),y.classList.remove("bi-x-lg","text-danger"),y.innerText=" Entire string matches"):(p.classList.add("text-danger"),p.classList.remove("text-success"),y.classList.add("bi-x-lg","text-danger"),y.classList.remove("bi-check-lg","text-success"),y.innerText=" Entire string doesn't match");let b=[...f.value.matchAll(RegExp(v,"g"))].map(e=>e[0]);b.length?x.innerText=b.join("\n"):x.innerText="(no matches)"};g.addEventListener("change",b),h.addEventListener("change",b),m.addEventListener("change",b),u.addEventListener("change",b),p.addEventListener("change",b),f.addEventListener("change",b),b(),L.addEventListener("click",()=>{navigator.clipboard.writeText(v),L.classList.add("bi-clipboard-check-fill"),L.classList.remove("bi-clipboard")})})}();</script></head><body> <header> <h1>Regular Expression Integer Inequalities</h1> <p> &bull; Powered by <code>re-int-ineq</code> &bull; <a href="https://metacpan.org/pod/Regexp::IntInequality" target="_blank">Perl</a> &bull; <a href="https://pypi.org/project/re-int-ineq/" target="_blank">Python</a> &bull; <a href="https://www.npmjs.com/package/re-int-ineq" target="_blank">JavaScript</a> &bull; <a href="https://github.com/haukex/re-int-ineq" target="_blank" class="bi-github" style="white-space:nowrap">&nbsp;Source</a> &bull; </p> </header> <main> <section> <noscript> <div class="bi-exclamation-triangle notice text-danger">&nbsp;This requires JavaScript.</div> </noscript> <article> <header><h2>Generate</h2></header> <div style="flex-flow:wrap;gap:1rem;display:flex"> <div> <label for="operator">Operator</label> <select id="operator"> <option value="&gt;" selected>&gt;</option> <option value="&gt;=">&ge;</option> <option value="&lt;">&lt;</option> <option value="&lt;=">&le;</option> <option value="==">&equals;</option> <option value="!=">&ne;</option> </select> </div> <div> <label for="integer">Integer</label> <input id="integer" type="number" step="1" pattern="-?[0-9]+" size="10" value="42"> </div> </div> <div style="flex-flow:wrap;gap:1rem;display:flex"> <label> <input id="allint" type="checkbox"> All integers <small class="text-secondary">(include negative)</small> </label> <label> <input id="anchor" type="checkbox" checked> Regexp anchors <small class="text-secondary">(recommended)</small> </label> </div> <div id="errormsg" class="bi-x-octagon d-none text-danger" style="margin-top:1rem"></div> <hr> <div style="flex-flow:wrap;justify-content:space-between;gap:1rem;display:flex"> <b style="align-self:center">Regexp</b> <small><button id="btn_copy" class="bi-clipboard">&nbsp;Copy</button></small> </div> <pre><code id="regexp"></code></pre> </article> </section> <section> <article> <header><h2>Test</h2></header> <div> <label for="exactmatch" id="exactresult">&nbsp;Full String Match</label> <input id="exactmatch" type="text" value="47"> <div><small class="text-secondary">Does the regular expression match this <i>entire</i> string exactly, not just a substring?</small></div> </div> <hr> <div> <label for="extract_inp">Extract Integers</label> <textarea id="extract_inp" rows="8" cols="40" style="width:100%" placeholder="Text from which to extract integers">Do you know why 23, 74, and 47 are special? And what about 42?</textarea> <div><small class="text-secondary">The regular expression will be used to extract all matching integers from this text and shown here.</small></div> <pre><code id="extract_out">(no matches)</code></pre> </div> </article> </section> </main> <footer> <p><a class="bi-github" href="https://github.com/haukex/re-int-ineq" target="_blank">&nbsp;Source Code on GitHub</a></p> <p>Copyright &copy; 2024 <a href="https://www.zero-g.net/" target="_blank">Hauke Dämpfling</a>. License: <a href="https://www.gnu.org/licenses/lgpl-3.0-standalone.html" target="_blank">GNU LGPL 3.0+</a></p> <p>This page uses <a href="https://simplecss.org/" target="_blank" class="bi-braces">&nbsp;Simple.css</a> &amp; <a href="https://icons.getbootstrap.com/" target="_blank" class="bi-bootstrap">&nbsp;Bootstrap Icons</a> </p> </footer> </body></html>