<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Regular Expression Integer Inequalities</title><link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" integrity="sha256-9kPW/n5nn53j4WMRYAxe9c1rCY96Oogo/MKSVdKzPmI=" crossorigin><style>@media only screen and (max-width:720px){body>header{padding-bottom:.5rem}section:first-child{margin-top:1rem}body>footer{margin-top:1rem;padding-top:1rem}}.text-danger{color:#dc3545}.text-success{color:#198754}.text-info-emphasis{color:#055160}@media (prefers-color-scheme:dark){.text-info-emphasis{color:#6edff6}}.d-none{display:none}#regexp,#extract_out{background-color:var(--accent-bg);border:1px solid var(--border);width:100%;padding:.7rem 1rem;display:inline-block}</style><script>!function(){let e=[...Array(7).keys()].map(e=>`[${e+1}-9]`).concat("[89]","9","(?!)"),t=["(?!)","0","[01]"].concat([...Array(7).keys()].map(e=>`[0-${e+2}]`)),n=["(?!)","(?!)","1","[12]"].concat([...Array(6).keys()].map(e=>`[1-${e+3}]`)),r=new Set(["-0","0","-[1-9][0-9]*"]),a=new Set(["-0","0","[1-9][0-9]*"]),s=new Set(["0","[1-9][0-9]*"]),d="(?<![0-9])",o="(?<![-0-9])",l="(?![0-9])",i=new Set([...Array(8).keys()].map(e=>`[0-${e+2}]`).concat("[01]","[1-9]?[0-9]")),c=new Set([...Array(8).keys()].map(e=>`-[0-${e+2}]`).concat("-[01]","-[1-9]?[0-9]"));window.addEventListener("DOMContentLoaded",()=>{let g=document.getElementById("operator"),h=document.getElementById("integer"),m=document.getElementById("allint"),u=document.getElementById("anchor"),$=document.getElementById("errormsg"),E=document.getElementById("regexp"),y=document.getElementById("exactmatch"),f=document.getElementById("exactresult"),p=document.getElementById("extract_inp"),x=document.getElementById("extract_out"),w=()=>{let w;try{w=function(g,h,m=!1,u=!0){let $;if(!Number.isSafeInteger(h))throw TypeError("invalid number");if(!m&&h<0)throw RangeError("cant pass an integer <0 unless allint is set");if("=="===g)return u?0==h&&m?`(?:${o}0|-0)${l}`:h<0?`${h}${l}`:m?`${o}${h}${l}`:`${d}${h}${l}`:0==h&&m?"-?0":`${h}`;if("!="===g)return u?m?"(?!"+(0==h?"-?0":`${h}`)+`${l})(?:${o}(?:0|[1-9][0-9]*)|-0|-[1-9][0-9]*)${l}`:`(?!${h}${l})${d}(?:0|[1-9][0-9]*)${l}`:0==h?(m?"-?":"")+"[1-9][0-9]*":`(?!${h})`+(m?"-?":"")+"(?:0|[1-9][0-9]*)";let E=e=>{if(!e.size)throw Error("assertion failed");Array.from(e).some(e=>i.has(e))&&e.delete("0"),Array.from(e).some(e=>c.has(e))&&e.delete("-0");let t=[],n=[];e.forEach(e=>(e.startsWith("-")?n:t).push(e)),t.sort(),n.sort();let r=[];if(u?t.length&&r.push((m?o:d)+(t.length>1?"(?:"+t.join("|")+")":t[0])):r.push(...t),n.length<6?r.push(...n):r.push("-(?:"+n.map(e=>e.substring(1)).join("|")+")"),!r.length)throw Error("assertion failed");return(r.length>1?"(?:"+r.join("|")+")":r[0])+(u?l:"")};if(">"===g||">="===g)">="===g&&h--,$=!0;else if("<"===g||"<="===g)"<="===g&&h++,$=!1;else throw RangeError("unknown operator");if(0==h&&!$&&!m)return"(?!)";if(-1==h&&$)return E(m?a:s);if(0==h)return E(new Set([$?"[1-9][0-9]*":"-[1-9][0-9]*"]));let y=m&&h<0;y&&($=!$);let f=(y?-h:h).toString(),p=y?"-":"";if(1>parseInt(f))throw Error("assertion failed");let x=new Set;return m&&!$&&(y?s:r).forEach(e=>x.add(e)),$?1==f.length?x.add(`${p}[1-9][0-9]+`):x.add(`${p}[1-9][0-9]{${f.length},}`):f.length>3?(x.add(`${p}0`),x.add(`${p}[1-9][0-9]{0,${f.length-2}}`)):f.length>2?x.add(`${p}[1-9]?[0-9]`):f.length>1&&x.add(`${p}[0-9]`),[...f].forEach((r,a)=>{let s=f.length-a-1,d=s?1==s?"[0-9]":`[0-9]{${s}}`:"",o=parseInt(r),l=$?e[o]:1==f.length||a?t[o]:n[o];"(?!)"!==l&&x.add(p+f.substring(0,a)+l+d)}),E(x)}(g.value,h.valueAsNumber,m.checked,u.checked)}catch(e){$.innerText="❌ "+e,$.classList.remove("d-none");return}$.innerText="",$.classList.add("d-none"),E.innerText=w,RegExp("^"+w+"$").test(y.value)?(y.classList.add("text-success"),y.classList.remove("text-danger"),f.innerText="✔️"):(y.classList.add("text-danger"),y.classList.remove("text-success"),f.innerText="❌");let v=[...p.value.matchAll(RegExp(w,"g"))].map(e=>e[0]);v.length?x.innerText=v.join("\n"):x.innerText="(none)"};g.addEventListener("change",w),h.addEventListener("change",w),m.addEventListener("change",w),u.addEventListener("change",w),y.addEventListener("change",w),p.addEventListener("change",w),w()})}();</script></head><body> <header> <h1>Regular Expression Integer Inequalities</h1> <p> &bull; Powered by <code>re-int-ineq</code> &bull; <a href="https://metacpan.org/pod/Regexp::IntInequality" target="_blank">Perl</a> &bull; <a href="https://pypi.org/project/re-int-ineq/" target="_blank">Python</a> &bull; <a href="https://www.npmjs.com/package/re-int-ineq" target="_blank">JavaScript</a> &bull; </p> </header> <main> <section> <noscript> <div class="notice">⚠️ This requires JavaScript.</div> </noscript> <article> <header><h2>Generate</h2></header> <div> <label for="operator">Operator</label> <select id="operator"> <option value="&gt;" selected>&gt;</option> <option value="&gt;=">&ge;</option> <option value="&lt;">&lt;</option> <option value="&lt;=">&le;</option> <option value="==">&equals;</option> <option value="!=">&ne;</option> </select> <label for="integer">Integer</label> <input id="integer" type="number" step="1" pattern="-?[0-9]+" value="42"> <label> <input id="allint" type="checkbox"> All integers <small>(include negative)</small> </label> <label> <input id="anchor" type="checkbox" checked> Regexp anchors <small>(recommended)</small> </label> </div> <div id="errormsg" class="d-none text-danger" style="margin-top:1rem"></div> <div style="margin-top:1rem">Regexp:</div> <code id="regexp"></code> </article> </section> <section> <article> <header><h2>Test</h2></header> <div> <label for="exactmatch">Exact Match <span id="exactresult"></span></label> <input id="exactmatch" type="text" value="47"> <hr> <label for="extract_inp">Extract Integers</label> <textarea id="extract_inp" rows="8" cols="48" placeholder="Text from which to extract integers">Do you know why 23, 74, and 47 are special? And what about 42?</textarea> <div>Matches:</div> <code id="extract_out">(none)</code> </div> </article> </section> </main> <footer> <p><a class="bi-github" href="https://github.com/haukex/re-int-ineq" target="_blank">&nbsp;Source Code on GitHub</a></p> <p>Copyright &copy; 2024 <a href="https://www.zero-g.net/" target="_blank">Hauke Dämpfling</a>. License: <a href="https://www.gnu.org/licenses/lgpl-3.0-standalone.html" target="_blank">GNU LGPL 3.0+</a></p> </footer> </body></html>